<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>    

<body>
    
    <button id="rockButton" value="rock" class="btn">Rock</button>
    <button id="paperButton" value="paper" class="btn">Paper</button>
    <button id="scissorsButton" value="scissors" class="btn">Scissors</button>


<div id="results">Results will appear here.<br></div>    
<div id="score">Player: 0 - Computer: 0</div> 

    <script>
        let playerScore = 0;
           let computerScore = 0;
           let counter = 0; 
           

           function displayMessage(message){
               const resultsDiv = document.getElementById('results');
resultsDiv.innerHTML += message + '<br>';    
}




function getComputerChoice() {
const choices = ['rock', 'paper', 'scissors'];    
const computerChoice = choices[Math.floor(Math.random()* choices.length)];
//displayMessage('Computer choice: ' + computerChoice);
// console.log('Computer choice:', computerChoice);
return computerChoice;
}

//

function playRound(playerSelection, computerSelection){

    playerSelection = playerSelection.toLowerCase();
    computerSelection= computerSelection.toLowerCase();

    if (playerSelection === computerSelection) {
        return "It's a tie";
    }

    if((playerSelection === 'rock' && computerSelection === 'scissors') ||
    (playerSelection === 'scissors' && computerSelection === 'paper') || 
    (playerSelection === 'paper' && computerSelection === 'rock') ) {
        return 'Player wins!';
    }
    return "Computer wins!";
    
}



function playGame(playerSelection) {

    if (counter >= 5) {
        return console.log("GAME OVER")
    }

    const computerSelection = getComputerChoice();
    
    displayMessage('Player choice: ' + playerSelection);
    displayMessage('Computer choice: ' + computerSelection);
    
    const result = playRound(playerSelection, computerSelection);
    displayMessage(result);
    
    if (result === 'Player wins!'){
    playerScore++ 
    } else if (result === 'Computer wins!'){
    computerScore++;    
    }
    
    counter++;


    document.getElementById('score').textContent = `Player: ${playerScore} - Computer: ${computerScore}`;
    //displayMessage(`Player: ${playerScore} - Computer: ${computerScore}`)
    //console.log(`Player: ${playerScore} - Computer: ${computerScore}`);


    //displayMessage('Maximum # of rounds played. Game over!')


    
    if (counter === 5){
        if (playerScore > computerScore){
            displayMessage('Player wins the game!');
        } else if (playerScore < computerScore){
            displayMessage('Computer wins the game!');
        } else {
            displayMessage('The game is a tie!');
        }
        
        displayMessage('Maximum # of rounds played. Game over!');
        displayMessage("Gam over! Click refresh if you want to play again");

        rockButton.removeEventListener("click", rockClickHandler);
        paperButton.removeEventListener("click", paperClickHandler);
        scissorsButton.removeEventListener("click", scissorsClickHandler);
        
    }


}
    


const rockButton = document.getElementById("rockButton");
const paperButton = document.getElementById("paperButton");
const scissorsButton = document.getElementById("scissorsButton");


function rockClickHandler(){
    playGame("rock");

}

function paperClickHandler(){
    playGame("paper");

}

function scissorsClickHandler(){
    playGame("scissors");
}    



 rockButton.addEventListener("click", rockClickHandler)

 paperButton.addEventListener("click", paperClickHandler);

 scissorsButton.addEventListener("click", scissorsClickHandler);
 


 


    </script>
</body>
</html>